import"./main-87c75355.js";console.log("Hello map!");function D(){var g={lat:24.1504802,lng:120.6500765},r=new google.maps.Map(document.getElementById("map"),{zoom:15,center:g}),d=new google.maps.Marker({position:g,map:r});const f=document.getElementById("address-form"),v=document.getElementById("address"),m=document.getElementById("results-container"),w=[{lat:24.156481790837304,lng:120.65558912124612},{lat:24.1760372329102,lng:120.65717696967201},{lat:24.183397465446873,lng:120.63237190167492},{lat:24.169851177096838,lng:120.67932128735285},{lat:24.191775085844064,lng:120.66103935173047},{lat:24.137114907129877,lng:120.6910800915799},{lat:24.115259956022737,lng:120.66061019834191},{lat:24.16710207743918,lng:120.72566298240915}],u=["精明廠","逢甲廠","福科廠","中清廠","水湳廠","新時代廠","文心南廠","景賢廠"];f.addEventListener("submit",function(a){a.preventDefault();const e=v.value;m.innerHTML="",M(e,function(n){if(!n){alert("Invalid start address");return}const l=d;l&&l.setMap(null),r.setCenter(new google.maps.LatLng(n.lat,n.lng)),d=new google.maps.Marker({position:new google.maps.LatLng(n.lat,n.lng),map:r}),L(n,w,function(s){y(s)})})});function M(a,e){new google.maps.Geocoder().geocode({address:a},function(l,s){if(s==="OK"&&l[0]){const t=l[0].geometry.location;e({lat:t.lat(),lng:t.lng()})}else e(null)})}function L(a,e,n){if(!google.maps.DistanceMatrixService){alert("DistanceMatrixService is not available");return}const l=new google.maps.DistanceMatrixService,s={origins:[new google.maps.LatLng(a.lat,a.lng)],destinations:e.map(t=>new google.maps.LatLng(t.lat,t.lng)),travelMode:google.maps.TravelMode.DRIVING};l.getDistanceMatrix(s,function(t,p){if(p==="OK"&&t&&t.rows&&t.rows[0]&&t.rows[0].elements){const c=[];for(let i=0;i<t.rows[0].elements.length;i++){const o=t.rows[0].elements[i];if(o.status==="OK"){const I=o.distance?o.distance.text:"N/A",E=o.duration?o.duration.text:"N/A",x=o.distance?o.distance.value:1/0;c.push({gym:u[i],distance:I,duration:E,distanceValue:x})}else c.push({distance:"N/A",duration:"N/A",distanceValue:1/0})}c.sort((i,o)=>i.distanceValue-o.distanceValue),n(c)}else console.error("Error:",p,t),n([])})}function y(a){for(let e=0;e<a.length;e++){const n=document.createElement("div");n.innerHTML=`
      <p class="location-title"><b>鄰近的運動場館 ${e+1}:</b> ${u[e]} </p>
      <div class="location-info"><p>距離: ${a[e].distance}</p>
      <p>交通時間: ${a[e].duration}</p><div><hr>
    `,m.appendChild(n)}}}D();
